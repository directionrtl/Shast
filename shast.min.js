(function(e){e.fn.shast=function(t){this.options=e.extend({scale:1.2,vertical:false,slices:3,speed:500,easing:"swing"},t);var n=this;return this.each(function(){var t=this;var r=e(this);var s=r.attr("data-src");if(r.css("position")!="absolute"&&r.css("position")!="relative")r.css("position","relative");r.css("overflow","hidden");if(n.options.vertical){var o=r.width()/n.options.slices;var u=r.height()*n.options.scale;var a=u-r.height()}else{var o=r.width()*n.options.scale;var u=r.height()/n.options.slices;var a=o-r.width()}var f=a/2*-1;var l=true;for(i=1;i<=n.options.slices;i++){var c=(l?1:0)*-1*a+"px";var h=e("<div></div>").css({position:"relative",overflow:"hidden"}).width(o).height(u).attr("data-diff",c);if(n.options.vertical)h.css({marginTop:c,"float":"left"});else h.css({marginLeft:c});var p=e("<img/>").css({display:"block",position:"absolute"}).attr("src",s);if(n.options.vertical)p.css({left:-1*(i-1)*o+"px"}).height(u);else p.css({top:-1*(i-1)*u+"px"}).width(o);h.append(p).appendTo(r);l=!l}r.hover(function(){var t=e(this).children("div");t.stop();if(n.options.vertical)t.animate({marginTop:f+"px"},n.options.speed,n.options.easing);else t.animate({marginLeft:f+"px"},n.options.speed,n.options.easing)},function(){var t=e(this).children("div");t.stop().each(function(){if(n.options.vertical)e(this).animate({marginTop:e(this).attr("data-diff")},n.options.speed,n.options.easing);else e(this).animate({marginLeft:e(this).attr("data-diff")},n.options.speed,n.options.easing)})});this.ResizeHandler=false;e(window).resize(function(){if(t.ResizeHandler!=false){clearTimeout(t.ResizeHandler);t.ResizeHandler=false}t.ResizeHandler=setTimeout(function(){r.html("").off("mouseenter mouseleave").shast(n.options)},200)})})}})(jQuery)